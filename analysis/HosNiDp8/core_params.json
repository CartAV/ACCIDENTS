{
  "inputDatasetSmartName": "accidents_par_usager_geo",
  "script": {
    "steps": [
      {
        "type": "CreateColumnWithGREL",
        "params": {
          "column": "lat_clean",
          "expression": "lat/100000"
        },
        "metaType": "PROCESSOR",
        "preview": false,
        "disabled": false,
        "alwaysShowComment": false
      },
      {
        "type": "CreateColumnWithGREL",
        "params": {
          "column": "long_clean",
          "expression": "long/100000"
        },
        "metaType": "PROCESSOR",
        "preview": false,
        "disabled": false,
        "alwaysShowComment": false
      },
      {
        "type": "GeoPointCreator",
        "params": {
          "out_column": "geoPoint_initial",
          "lat_column": "lat_clean",
          "lon_column": "long_clean"
        },
        "metaType": "PROCESSOR",
        "preview": false,
        "disabled": false,
        "alwaysShowComment": false
      },
      {
        "type": "GeoPointCreator",
        "params": {
          "out_column": "geoPoint_BAN",
          "lat_column": "latitude",
          "lon_column": "longitude"
        },
        "metaType": "PROCESSOR",
        "preview": false,
        "disabled": false,
        "alwaysShowComment": false
      },
      {
        "type": "GeoDistanceProcessor",
        "params": {
          "input1": "geoPoint_initial",
          "input2": "geoPoint_BAN",
          "output": "geoCode_distance",
          "outputUnit": "KILOMETERS",
          "compareTo": "COLUMN"
        },
        "metaType": "PROCESSOR",
        "preview": false,
        "disabled": false,
        "alwaysShowComment": false
      }
    ],
    "tags": [],
    "columnsSelection": {
      "mode": "ALL"
    },
    "coloring": {
      "scheme": "MEANING_AND_STATUS",
      "individualColumns": [],
      "valueColoringMode": "HASH"
    },
    "analysisColumnData": {},
    "explorationSampling": {
      "selection": {
        "samplingMethod": "HEAD_SEQUENTIAL",
        "partitionSelectionMethod": "ALL",
        "maxRecords": 10000,
        "targetRatio": 0.02
      },
      "autoRefreshSample": false,
      "_refreshTrigger": 0
    },
    "vizSampling": {
      "autoRefreshSample": false,
      "_refreshTrigger": 0
    },
    "exploreUIParams": {
      "autoRefresh": true
    },
    "globalSearchQuery": "",
    "explorationFilters": [],
    "previewMode": "ALL_ROWS",
    "charts": [
      {
        "data": {
          "name": "Count by geoCode_distance",
          "genericMeasures": [
            {
              "function": "COUNT",
              "type": "NUMERICAL",
              "displayed": true,
              "displayAxis": "axis1",
              "displayType": "column",
              "isA": "measure",
              "computeMode": "NORMAL"
            }
          ],
          "genericDimension0": [
            {
              "column": "geoCode_distance",
              "type": "NUMERICAL",
              "numParams": {
                "mode": "FIXED_NB",
                "nbBins": 10,
                "binSize": 100,
                "emptyBinsMode": "ZEROS"
              },
              "maxValues": 100,
              "generateOthersCategory": true,
              "filters": [],
              "isA": "dimension",
              "possibleSorts": [
                {
                  "type": "NATURAL",
                  "label": "Natural ordering",
                  "sortAscending": true
                },
                {
                  "type": "AGGREGATION",
                  "measureIdx": 0,
                  "label": "Count of records, descending"
                },
                {
                  "type": "AGGREGATION",
                  "measureIdx": 0,
                  "label": "Count of records, ascending",
                  "sortAscending": true
                }
              ],
              "sort": {
                "type": "NATURAL",
                "label": "Natural ordering",
                "sortAscending": true
              }
            }
          ],
          "genericDimension1": [],
          "type": "grouped_columns",
          "includeZero": true,
          "showLegend": true,
          "chartOptions": {},
          "hexbinRadius": 20,
          "yAxisMode": "NORMAL",
          "xAxisMode": "NORMAL",
          "computeMode": "NONE",
          "smoothing": true,
          "strokeWidth": 1,
          "colorPaletteType": "LINEAR",
          "xDimension": [],
          "yDimension": [],
          "groupDimension": [],
          "uaXDimension": [],
          "uaYDimension": [],
          "xMeasure": [],
          "yMeasure": [],
          "sizeMeasure": [],
          "colorMeasure": [],
          "tooltipMeasures": [],
          "uaSize": [],
          "uaColor": [],
          "uaShape": [],
          "uaTooltip": [],
          "boxplotBreakdownDim": [],
          "boxplotValue": [],
          "geometry": [],
          "colorOptions": {
            "singleColor": "#659a88",
            "transparency": 0.75,
            "ccScaleMode": "NORMAL",
            "colorPalette": "default"
          },
          "bubblesOptions": {
            "defaultRadius": 5,
            "singleShape": "FILLED_CIRCLE"
          },
          "pieOptions": {
            "donutHoleSize": 50
          },
          "filters": [
            {
              "column": "geoCode_distance",
              "type": "NUMERICAL",
              "label": "geoCode_distance",
              "cacheable": true,
              "__justDragDropped": true,
              "columnType": "NUMERICAL",
              "filterType": "NUMERICAL_FACET",
              "isA": "filter",
              "excludedValues": {},
              "$$hashKey": "TIZ"
            }
          ],
          "mapOptions": {
            "tilesLayer": "cartodb-positron"
          },
          "mapGridOptions": {
            "gridLonDeg": 0.5,
            "gridLatDeg": 0.5
          },
          "variant": "normal",
          "thumbnailData": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAoCAYAAACiu5n/AAAAk0lEQVRoge2SMQqAMBTFegZn0RM6imfwME66ezWnQoe61VQ+efDnJKUpOedCbd6uO19vF2QGR5/B0Wdw9BkcfXRwyevyyAaDPINpAZpnMC1A8wymBWiewbQAzTOYFqB5BtMCNM9gWoDmGUwL0DyDaQGaZzAtQPMMpgVoXsl882ju91XwsBzjtJ57vhqvdXDXn/OXPX9KzqXkiwZ+AAAAAElFTkSuQmCC"
        },
        "$$hashKey": "TB9",
        "chartOptions": {
          "zeroEnabled": true,
          "enableLegendEnabled": true,
          "smoothingEnabled": false,
          "strokeWidthEnabled": false,
          "xAxisEnabled": false,
          "enabledMCModes": [
            [
              "NORMAL",
              "Normal"
            ],
            [
              "PERCENTAGE",
              "Percentage scale"
            ],
            [
              "AVG_RATIO",
              "Ratio to average"
            ],
            [
              "CUMULATIVE",
              "Cumulative values"
            ],
            [
              "CUMULATIVE_PERCENTAGE",
              "Cumulative percentage scale"
            ],
            [
              "DIFFERENCE",
              "Differencial values"
            ]
          ]
        }
      }
    ],
    "chartsEngine": "LINO"
  },
  "versionTag": {
    "versionNumber": 3,
    "lastModifiedBy": {
      "login": "chabouisfr",
      "displayName": "Francis Chabouis"
    },
    "lastModifiedOn": 1483535341112
  },
  "creationTag": {
    "versionNumber": 0,
    "lastModifiedBy": {
      "login": "chabouisfr",
      "displayName": "Francis Chabouis"
    },
    "lastModifiedOn": 1483534190837
  },
  "name": "accidents_par_usager_geo_geoCodeQuality",
  "tags": [],
  "checklists": {
    "checklists": []
  }
}